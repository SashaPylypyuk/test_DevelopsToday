(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{29:function(e,t,a){e.exports=a(58)},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=a(4),s=a(13),u=a(1),m=(a(9),a(8)),i=a.n(m),p=a(11),f="https://simple-blog-api.crew.red/",b=a(35).default;function d(){return(d=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.get("".concat(f,"posts")).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.get("".concat(f,"posts/").concat(t,"?_embed=comments")).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.post("".concat(f,"posts"),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.post("".concat(f,"comments"),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.delete("".concat(f,"posts/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t,a=e.posts,c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],m=l[1],i=Object(n.useState)([]),p=Object(o.a)(i,2),f=p[0],b=p[1],d=Object(n.useState)(!1),h=Object(o.a)(d,2),_=h[0],g=h[1],y=Object(u.f)().id,N=!1;y=Number.parseInt(y);!f.length&&_&&Promise.resolve(function(e){return E.apply(this,arguments)}(y)).then((function(e){var t=[];e.comments.map((function(e){return t.push(e.body)})),t.length||g(!0),b(t)})),"object"===typeof a&&(t=(t=a.filter((function(e){return e.id===y})))[0]),"object"!==typeof t&&(N=!0);return r.a.createElement(r.a.Fragment,null,N?r.a.createElement("h1",{className:"wronPage"},"404"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"singlePost"},r.a.createElement("h1",{className:"singlePost__header"},t.title),r.a.createElement("h2",{className:"singlePost__body"},t.body)),r.a.createElement("div",{className:"comments"},f.length?f.map((function(e){return r.a.createElement("p",null,e)})):r.a.createElement("p",{className:"comments__empty"},"There are no comments")),r.a.createElement("div",null,r.a.createElement("form",{className:"form"},r.a.createElement("label",null,"Write your comment!"),r.a.createElement("input",{className:"form__input",type:"text",value:s,onChange:function(e){var t=e.target.value;m(t)}}),r.a.createElement("button",{className:"form__button",type:"button",onClick:function(){var e={id:y,comm:s};m(""),function(e){v.apply(this,arguments)}(e),alert("comment is created!")}},"Comment!")))))},y=function(e){var t=e.posts;return r.a.createElement("section",{className:"posts"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement("a",{href:"/".concat(e.id)},r.a.createElement("div",{className:"post"},r.a.createElement("p",{className:"post__id"},"id is"," ",e.id),r.a.createElement("h2",{className:"post__text-title"},e.title),r.a.createElement("p",{className:"post__text-body"},e.body)))})))},N=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,c=[],l=1;l<=Math.ceil(a/t);l+=1)c.push(l);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:"pagination__page"},r.a.createElement("a",{onClick:function(){return n(e)},href:"#",className:"pagination__link"},e))}))))},j=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("a",{href:"/"},r.a.createElement("h1",{className:"header__text"},"Blog for DevelopsToday")))},O=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],m=s[1];return r.a.createElement("div",{className:"createPost__wrapper"},r.a.createElement("form",{className:"form"},r.a.createElement("label",null,"Write a title"),r.a.createElement("input",{type:"text",className:"form__input",onChange:function(e){var t=e.target.value;c(t)},value:a}),r.a.createElement("label",null,"Write a body"),r.a.createElement("textarea",{name:"comment",className:"form__input",onChange:function(e){var t=e.target.value;m(t)},value:u}),r.a.createElement("button",{className:"form__button",type:"button",onClick:function(){var e={title:a,body:u};c(""),m(""),function(e){h.apply(this,arguments)}(e),alert("Post created!!!")}},"Create post")))},P=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement("form",{className:"form"},r.a.createElement("label",null,"Write an id"),r.a.createElement("input",{className:"form__input",type:"text",value:a,onChange:function(e){var t=e.target.value;c(t)}}),r.a.createElement("button",{className:"form__button",type:"button",onClick:function(){!function(e){_.apply(this,arguments)}(a),c(" "),alert("Post deleted!")}},"Delete!"))},w=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),m=Object(o.a)(l,2),i=m[0],p=m[1],f=Object(n.useState)(21),b=Object(o.a)(f,1)[0],E=function(){Promise.resolve(function(){return d.apply(this,arguments)}()).then((function(e){var t=e.filter((function(e){var t;return(null===(t=e.body)||void 0===t?void 0:t.length)>0}));c(t)}))};(null===a||void 0===a?void 0:a.length)||E();var h=i*b,v=h-b,_=null===a||void 0===a?void 0:a.slice(v,h);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),"object"===typeof a?r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/deletePost"},r.a.createElement(P,null)),r.a.createElement(u.a,{path:"/createPost"},r.a.createElement(O,null)),r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(s.b,{to:"/createPost"},r.a.createElement("p",{className:"createPost"},"Creat post")),r.a.createElement(y,{posts:_}),r.a.createElement(N,{postsPerPage:b,totalPosts:null===a||void 0===a?void 0:a.length,paginate:function(e){return p(e)}}),r.a.createElement(s.b,{to:"/deletePost"},r.a.createElement("p",{className:"deletePost"},"Delete Post"))),r.a.createElement(u.a,{path:"/:id"},r.a.createElement(g,{posts:a})))):E())};l.a.render(r.a.createElement(w,null),document.getElementById("root"))},9:function(e,t,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.3671d9cc.chunk.js.map